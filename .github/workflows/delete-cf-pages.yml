name: è¿è¡Œ index.js è„šæœ¬

on:
  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘

jobs:
  clean-deployments:
    runs-on: ubuntu-latest

    env:
      CF_API_TOKEN: ${{ secrets.CF_API_TOKEN }}
      CF_ACCOUNT_ID: ${{ secrets.CF_ACCOUNT_ID }}
      CF_PAGES_PROJECT_NAME: ${{ secrets.CF_PAGES_PROJECT_NAME }}
      CF_DELETE_ALIASED_DEPLOYMENTS: true

    steps:
      - name: å°†ä»£ç æ‹‰å–åˆ°å·¥ä½œæµè™šæ‹Ÿæœºç¯å¢ƒä¸­
        uses: actions/checkout@v4

      - name: è®¾ç½® Node.js ç¯å¢ƒ
        uses: actions/setup-node@v4
        with:
          node-version: 16

      - name: å®‰è£…ä¾èµ–
        run: npm ci

      - name: æ‰§è¡Œæ‰¹é‡åˆ é™¤è„šæœ¬
        run: npm start

      - name: âœ… æ‰§è¡Œå®Œæˆ
        run: echo "ğŸ‰ æ‰¹é‡åˆ é™¤å·²å®Œæˆï¼"
